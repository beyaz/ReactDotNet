import{a as et}from"./chunk-TP2CMYTS.js";import{A as B,B as Qe,a as oe,b as P,d as F,e as Je,m as Xe,o as Ue,q as Ke,u as Ye,v as Ze,x as qe,z as Ge}from"./chunk-MY5M2XOA.js";import{a as Xt}from"./chunk-2W22VGCX.js";import{h as Jt}from"./chunk-GYULANB4.js";var m=Jt(Xt());function be(){return be=Object.assign?Object.assign.bind():function(l){for(var i=1;i<arguments.length;i++){var c=arguments[i];for(var S in c)({}).hasOwnProperty.call(c,S)&&(l[S]=c[S])}return l},be.apply(null,arguments)}function Z(l){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Z(l)}function Ut(l,i){if(Z(l)!="object"||!l)return l;var c=l[Symbol.toPrimitive];if(c!==void 0){var S=c.call(l,i||"default");if(Z(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(l)}function Kt(l){var i=Ut(l,"string");return Z(i)=="symbol"?i:i+""}function nt(l,i,c){return(i=Kt(i))in l?Object.defineProperty(l,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[i]=c,l}function Yt(l){if(Array.isArray(l))return l}function Zt(l,i){var c=l==null?null:typeof Symbol!="undefined"&&l[Symbol.iterator]||l["@@iterator"];if(c!=null){var S,e,j,H,R=[],f=!0,q=!1;try{if(j=(c=c.call(l)).next,i===0){if(Object(c)!==c)return;f=!1}else for(;!(f=(S=j.call(c)).done)&&(R.push(S.value),R.length!==i);f=!0);}catch(G){q=!0,e=G}finally{try{if(!f&&c.return!=null&&(H=c.return(),Object(H)!==H))return}finally{if(q)throw e}}return R}}function tt(l,i){(i==null||i>l.length)&&(i=l.length);for(var c=0,S=Array(i);c<i;c++)S[c]=l[c];return S}function qt(l,i){if(l){if(typeof l=="string")return tt(l,i);var c={}.toString.call(l).slice(8,-1);return c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set"?Array.from(l):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?tt(l,i):void 0}}function Gt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V(l,i){return Yt(l)||Zt(l,i)||qt(l,i)||Gt()}var Qt=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    /*contain: content;*/
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-virtualscroller-loader.p-component-overlay {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: 2rem;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

/* Inline */
.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,se=Qe.extend({defaultProps:{__TYPE:"VirtualScroller",__parentMetadata:null,id:null,style:null,className:null,tabIndex:0,items:null,itemSize:0,scrollHeight:null,scrollWidth:null,orientation:"vertical",step:0,numToleratedItems:null,delay:0,resizeDelay:10,appendOnly:!1,inline:!1,lazy:!1,disabled:!1,loaderDisabled:!1,loadingIcon:null,columns:null,loading:void 0,autoSize:!1,showSpacer:!0,showLoader:!1,loadingTemplate:null,loaderIconTemplate:null,itemTemplate:null,contentTemplate:null,onScroll:null,onScrollIndexChange:null,onLazyLoad:null,children:void 0},css:{styles:Qt}});function rt(l,i){var c=Object.keys(l);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(l);i&&(S=S.filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})),c.push.apply(c,S)}return c}function D(l){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?rt(Object(c),!0).forEach(function(S){nt(l,S,c[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(c)):rt(Object(c)).forEach(function(S){Object.defineProperty(l,S,Object.getOwnPropertyDescriptor(c,S))})}return l}var er=m.memo(m.forwardRef(function(l,i){var c=Ye(),S=m.useContext(Xe),e=se.getProps(l,S),j=Ue(l)||{},H=e.orientation==="vertical",R=e.orientation==="horizontal",f=e.orientation==="both",q=m.useState(f?{rows:0,cols:0}:0),G=V(q,2),g=G[0],Ie=G[1],at=m.useState(f?{rows:0,cols:0}:0),ze=V(at,2),y=ze[0],Ce=ze[1],lt=m.useState(0),Oe=V(lt,2),Te=Oe[0],ot=Oe[1],st=m.useState(f?{rows:0,cols:0}:0),Pe=V(st,2),O=Pe[0],it=Pe[1],ct=m.useState(e.numToleratedItems),Le=V(ct,2),z=Le[0],ie=Le[1],ut=m.useState(e.loading||!1),Ee=V(ut,2),L=Ee[0],ce=Ee[1],mt=m.useState([]),Ne=V(mt,2),W=Ne[0],ft=Ne[1],vt=se.setMetaData({props:e,state:{first:g,last:y,page:Te,numItemsInViewport:O,numToleratedItems:z,loading:L,loaderArr:W}}),J=vt.ptm;Ge(se.css.styles,{name:"virtualscroller"});var h=m.useRef(null),w=m.useRef(null),je=m.useRef(null),ue=m.useRef(null),M=m.useRef(f?{top:0,left:0}:0),me=m.useRef(null),fe=m.useRef(null),Q=m.useRef({}),ee=m.useRef({}),X=m.useRef(null),U=m.useRef(null),xe=m.useRef(null),Fe=m.useRef(null),ve=m.useRef(!1),$=m.useRef(null),gt=qe({listener:function(t){return $e()},when:!e.disabled}),pt=V(gt,1),dt=pt[0],ht=Ke({target:"window",type:"orientationchange",listener:function(t){return $e()},when:!e.disabled}),St=V(ht,1),yt=St[0],Rt=function(){return h},te=function(t){return Math.floor((t+z*4)/(e.step||1))},wt=function(t){w.current=t||w.current||P.findSingle(h.current,".p-virtualscroller-content")},ge=function(t){return e.step?Te!==te(t):!0},pe=function(t){M.current=f?{top:0,left:0}:0,h.current&&h.current.scrollTo(t)},Ve=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",n=Me(),a=n.numToleratedItems,u=re(),o=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=arguments.length>1?arguments[1]:void 0;return T<=E?0:T},s=function(T,E,_){return T*E+_},d=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return pe({left:T,top:E,behavior:r})},p=f?{rows:0,cols:0}:0,b=!1;f?(p={rows:o(t[0],a[0]),cols:o(t[1],a[1])},d(s(p.cols,e.itemSize[1],u.left),s(p.rows,e.itemSize[0],u.top)),b=g.rows!==p.rows||g.cols!==p.cols):(p=o(t,a),R?d(s(p,e.itemSize,u.left),0):d(0,s(p,e.itemSize,u.top)),b=g!==p),ve.current=b,Ie(p)},bt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(r){var a=He(),u=a.first,o=a.viewport,s=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return pe({left:E,top:_,behavior:n})},d=r==="to-start",p=r==="to-end";if(d){if(f)o.first.rows-u.rows>t[0]?s(o.first.cols*e.itemSize[1],(o.first.rows-1)*e.itemSize[0]):o.first.cols-u.cols>t[1]&&s((o.first.cols-1)*e.itemSize[1],o.first.rows*e.itemSize[0]);else if(o.first-u>t){var b=(o.first-1)*e.itemSize;R?s(b,0):s(0,b)}}else if(p){if(f)o.last.rows-u.rows<=t[0]+1?s(o.first.cols*e.itemSize[1],(o.first.rows+1)*e.itemSize[0]):o.last.cols-u.cols<=t[1]+1&&s((o.first.cols+1)*e.itemSize[1],o.first.rows*e.itemSize[0]);else if(o.last-u<=t+1){var C=(o.first+1)*e.itemSize;R?s(C,0):s(0,C)}}}else Ve(t,n)},It=function(){return L?e.loaderDisabled?W:[]:de()},zt=function(){return e.columns&&f||R?L&&e.loaderDisabled?f?W[0]:W:e.columns.slice(f?g.cols:g,f?y.cols:y):e.columns},He=function(){var t=function(p,b){return Math.floor(p/(b||p))},r=g,n=0;if(h.current){var a=h.current,u=a.scrollTop,o=a.scrollLeft;if(f)r={rows:t(u,e.itemSize[0]),cols:t(o,e.itemSize[1])},n={rows:r.rows+O.rows,cols:r.cols+O.cols};else{var s=R?o:u;r=t(s,e.itemSize),n=r+O}}return{first:g,last:y,viewport:{first:r,last:n}}},Me=function(){var t=re(),r=h.current?h.current.offsetWidth-t.left:0,n=h.current?h.current.offsetHeight-t.top:0,a=function(p,b){return Math.ceil(p/(b||p))},u=function(p){return Math.ceil(p/2)},o=f?{rows:a(n,e.itemSize[0]),cols:a(r,e.itemSize[1])}:a(R?r:n,e.itemSize),s=z||(f?[u(o.rows),u(o.cols)]:u(o));return{numItemsInViewport:o,numToleratedItems:s}},Ct=function(){var t=Me(),r=t.numItemsInViewport,n=t.numToleratedItems,a=function(s,d,p){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return _e(s+d+(s<p?2:3)*p,b)},u=f?{rows:a(g.rows,r.rows,n[0]),cols:a(g.cols,r.cols,n[1],!0)}:a(g,r,n);it(r),ie(n),Ce(u),e.showLoader&&ft(f?Array.from({length:r.rows}).map(function(){return Array.from({length:r.cols})}):Array.from({length:r})),e.lazy&&Promise.resolve().then(function(){$.current={first:e.step?f?{rows:0,cols:g.cols}:0:g,last:Math.min(e.step?e.step:u,(e.items||[]).length)},e.onLazyLoad&&e.onLazyLoad($.current)})},Ot=function(t){e.autoSize&&!t&&Promise.resolve().then(function(){if(w.current){w.current.style.minHeight=w.current.style.minWidth="auto",w.current.style.position="relative",h.current.style.contain="none";var r=[P.getWidth(h.current),P.getHeight(h.current)],n=r[0],a=r[1];(f||R)&&(h.current.style.width=(n<X.current?n:e.scrollWidth||X.current)+"px"),(f||H)&&(h.current.style.height=(a<U.current?a:e.scrollHeight||U.current)+"px"),w.current.style.minHeight=w.current.style.minWidth="",w.current.style.position="",h.current.style.contain=""}})},_e=function(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return e.items?Math.min(n?((t=e.columns||e.items[0])===null||t===void 0?void 0:t.length)||0:(e.items||[]).length,r):0},re=function(){if(w.current){var t=getComputedStyle(w.current),r=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),n=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),a=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),u=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:r,right:n,top:a,bottom:u,x:r+n,y:a+u}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},Tt=function(){if(h.current){var t=h.current.parentElement,r=e.scrollWidth||"".concat(h.current.offsetWidth||t.offsetWidth,"px"),n=e.scrollHeight||"".concat(h.current.offsetHeight||t.offsetHeight,"px"),a=function(o,s){return h.current.style[o]=s};f||R?(a("height",n),a("width",r)):a("height",n)}},Pt=function(){var t=e.items;if(t){var r=re(),n=function(u,o,s){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return ee.current=D(D({},ee.current),nt({},"".concat(u),(o||[]).length*s+d+"px"))};f?(n("height",t,e.itemSize[0],r.y),n("width",e.columns||t[1],e.itemSize[1],r.x)):R?n("width",e.columns||t,e.itemSize,r.x):n("height",t,e.itemSize,r.y)}},Lt=function(t){if(w.current&&!e.appendOnly){var r=t?t.first:g,n=function(s,d){return s*d},a=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ue.current&&(ue.current.style.top="-".concat(d,"px")),Q.current=D(D({},Q.current),{transform:"translate3d(".concat(s,"px, ").concat(d,"px, 0)")})};if(f)a(n(r.cols,e.itemSize[1]),n(r.rows,e.itemSize[0]));else{var u=n(r,e.itemSize);R?a(u,0):a(0,u)}}},Ae=function(t){var r=t.target,n=re(),a=function(I,N){return I?I>N?I-N:I:0},u=function(I,N){return Math.floor(I/(N||I))},o=function(I,N,K,le,x,A){return I<=x?x:A?K-le-x:N+x-1},s=function(I,N,K,le,x,A,Y){return I<=A?0:Math.max(0,Y?I<N?K:I-A:I>N?K:I-2*A)},d=function(I,N,K,le,x,A){var Y=N+le+2*x;return I>=x&&(Y=Y+(x+1)),_e(Y,A)},p=a(r.scrollTop,n.top),b=a(r.scrollLeft,n.left),C=f?{rows:0,cols:0}:0,T=y,E=!1,_=M.current;if(f){var he=M.current.top<=p,Se=M.current.left<=b;if(!e.appendOnly||e.appendOnly&&(he||Se)){var k={rows:u(p,e.itemSize[0]),cols:u(b,e.itemSize[1])},De={rows:o(k.rows,g.rows,y.rows,O.rows,z[0],he),cols:o(k.cols,g.cols,y.cols,O.cols,z[1],Se)};C={rows:s(k.rows,De.rows,g.rows,y.rows,O.rows,z[0],he),cols:s(k.cols,De.cols,g.cols,y.cols,O.cols,z[1],Se)},T={rows:d(k.rows,C.rows,y.rows,O.rows,z[0]),cols:d(k.cols,C.cols,y.cols,O.cols,z[1],!0)},E=C.rows!==g.rows||T.rows!==y.rows||C.cols!==g.cols||T.cols!==y.cols||ve.current,_={top:p,left:b}}}else{var ye=R?b:p,Re=M.current<=ye;if(!e.appendOnly||e.appendOnly&&Re){var we=u(ye,e.itemSize),Dt=o(we,g,y,O,z,Re);C=s(we,Dt,g,y,O,z,Re),T=d(we,C,y,O,z),E=C!==g||T!==y||ve.current,_=ye}}return{first:C,last:T,isRangeChanged:E,scrollPos:_}},We=function(t){var r=Ae(t),n=r.first,a=r.last,u=r.isRangeChanged,o=r.scrollPos;if(u){var s={first:n,last:a};if(Lt(s),Ie(n),Ce(a),M.current=o,e.onScrollIndexChange&&e.onScrollIndexChange(s),e.lazy&&ge(n)){var d={first:e.step?Math.min(te(n)*e.step,(e.items||[]).length-e.step):n,last:Math.min(e.step?(te(n)+1)*e.step:a,(e.items||[]).length)},p=!$.current||$.current.first!==d.first||$.current.last!==d.last;p&&e.onLazyLoad&&e.onLazyLoad(d),$.current=d}}},Et=function(t){if(e.onScroll&&e.onScroll(t),e.delay){if(me.current&&clearTimeout(me.current),ge(g)){if(!L&&e.showLoader){var r=Ae(t),n=r.isRangeChanged,a=n||(e.step?ge(g):!1);a&&ce(!0)}me.current=setTimeout(function(){We(t),L&&e.showLoader&&(!e.lazy||e.loading===void 0)&&(ce(!1),ot(te(g)))},e.delay)}}else We(t)},$e=function(){fe.current&&clearTimeout(fe.current),fe.current=setTimeout(function(){if(h.current){var t=[P.getWidth(h.current),P.getHeight(h.current)],r=t[0],n=t[1],a=r!==X.current,u=n!==U.current,o=f?a||u:R?a:H?u:!1;o&&(ie(e.numToleratedItems),X.current=r,U.current=n,xe.current=P.getWidth(w.current),Fe.current=P.getHeight(w.current))}},e.resizeDelay)},ke=function(t){var r=(e.items||[]).length,n=f?g.rows+t:g+t;return{index:n,count:r,first:n===0,last:n===r-1,even:n%2===0,odd:n%2!==0,props:e}},Be=function(t,r){var n=W.length||0;return D({index:t,count:n,first:t===0,last:t===n-1,even:t%2===0,odd:t%2!==0,props:e},r)},de=function(){var t=e.items;return t&&!L?f?t.slice(e.appendOnly?0:g.rows,y.rows).map(function(r){return e.columns?r:r.slice(e.appendOnly?0:g.cols,y.cols)}):R&&e.columns?t:t.slice(e.appendOnly?0:g,y):[]},Nt=function(){h.current&&P.isVisible(h.current)&&(wt(w.current),ne(),dt(),yt(),X.current=P.getWidth(h.current),U.current=P.getHeight(h.current),xe.current=P.getWidth(w.current),Fe.current=P.getHeight(w.current))},ne=function(){e.disabled||(Tt(),Ct(),Pt())};Ze(function(){Nt()}),B(function(){ne()},[e.itemSize,e.scrollHeight,e.scrollWidth]),B(function(){e.numToleratedItems!==z&&ie(e.numToleratedItems)},[e.numToleratedItems]),B(function(){e.numToleratedItems===z&&ne()},[z]),B(function(){var v=j.items!==void 0&&j.items!==null,t=e.items!==void 0&&e.items!==null,r=v?j.items.length:0,n=t?e.items.length:0,a=r!==n;if(f&&!a){var u=v&&j.items.length>0?j.items[0].length:0,o=t&&e.items.length>0?e.items[0].length:0;a=u!==o}(!v||a)&&ne();var s=L;e.lazy&&j.loading!==e.loading&&e.loading!==L&&(ce(e.loading),s=e.loading),Ot(s)}),B(function(){M.current=f?{top:0,left:0}:0},[e.orientation]),m.useImperativeHandle(i,function(){return{props:e,getElementRef:Rt,scrollTo:pe,scrollToIndex:Ve,scrollInView:bt,getRenderedRange:He}});var jt=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Be(t,r),a=F.getJSXElement(e.loadingTemplate,n);return m.createElement(m.Fragment,{key:t},a)},xt=function(){var t="p-virtualscroller-loading-icon",r=c({className:t},J("loadingIcon")),n=e.loadingIcon||m.createElement(et,be({},r,{spin:!0})),a=Je.getJSXIcon(n,D({},r),{props:e});if(!e.loaderDisabled&&e.showLoader&&L){var u=oe("p-virtualscroller-loader",{"p-component-overlay":!e.loadingTemplate}),o=a;if(e.loadingTemplate)o=W.map(function(p,b){return jt(b,f&&{numCols:O.cols})});else if(e.loaderIconTemplate){var s={iconClassName:t,element:o,props:e};o=F.getJSXElement(e.loaderIconTemplate,s)}var d=c({className:u},J("loader"));return m.createElement("div",d,o)}return null},Ft=function(){if(e.showSpacer){var t=c({ref:je,style:ee.current,className:"p-virtualscroller-spacer"},J("spacer"));return m.createElement("div",t)}return null},Vt=function(t,r){var n=ke(r),a=F.getJSXElement(e.itemTemplate,t,n);return m.createElement(m.Fragment,{key:n.index},a)},Ht=function(){var t=de();return t.map(Vt)},Mt=function(){var t=Ht(),r=oe("p-virtualscroller-content",{"p-virtualscroller-loading":L}),n=c({ref:w,style:Q.current,className:r},J("content")),a=m.createElement("div",n,t);if(e.contentTemplate){var u={style:Q.current,className:r,spacerStyle:ee.current,contentRef:function(s){return w.current=F.getRefElement(s)},spacerRef:function(s){return je.current=F.getRefElement(s)},stickyRef:function(s){return ue.current=F.getRefElement(s)},items:de(),getItemOptions:function(s){return ke(s)},children:t,element:a,props:e,loading:L,getLoaderOptions:function(s,d){return Be(s,d)},loadingTemplate:e.loadingTemplate,itemSize:e.itemSize,rows:It(),columns:zt(),vertical:H,horizontal:R,both:f};return F.getJSXElement(e.contentTemplate,u)}return a};if(e.disabled){var _t=F.getJSXElement(e.contentTemplate,{items:e.items,rows:e.items,columns:e.columns});return m.createElement(m.Fragment,null,e.children,_t)}var At=oe("p-virtualscroller",{"p-virtualscroller-inline":e.inline,"p-virtualscroller-both p-both-scroll":f,"p-virtualscroller-horizontal p-horizontal-scroll":R},e.className),Wt=xt(),$t=Mt(),kt=Ft(),Bt=c({ref:h,className:At,tabIndex:e.tabIndex,style:e.style,onScroll:function(t){return Et(t)}},se.getOtherProps(e),J("root"));return m.createElement("div",Bt,$t,kt,Wt)}));er.displayName="VirtualScroller";export{er as a};
