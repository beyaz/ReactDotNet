import{a as P}from"./chunk-2W22VGCX.js";import{a as T,b as fe,h as S}from"./chunk-GYULANB4.js";function qe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function de(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ue(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?de(Object(t),!0).forEach(function(n){qe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):de(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Fe(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function ge(e,r){if(e==null)return{};var t=Fe(e,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function me(e,r){return He(e)||_e(e,r)||$e(e,r)||ke()}function He(e){if(Array.isArray(e))return e}function _e(e,r){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var t=[],n=!0,o=!1,i=void 0;try{for(var l=e[Symbol.iterator](),p;!(n=(p=l.next()).done)&&(t.push(p.value),!(r&&t.length===r));n=!0);}catch(h){o=!0,i=h}finally{try{!n&&l.return!=null&&l.return()}finally{if(o)throw i}}return t}}function $e(e,r){if(e){if(typeof e=="string")return pe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pe(e,r)}}function pe(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Be(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function he(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ve(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?he(Object(t),!0).forEach(function(n){Be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):he(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ke(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){return r.reduceRight(function(o,i){return i(o)},n)}}function H(e){return function r(){for(var t=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];return r.apply(t,[].concat(o,p))}}}function Y(e){return{}.toString.call(e).includes("Object")}function Ge(e){return!Object.keys(e).length}function _(e){return typeof e=="function"}function Ye(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function Je(e,r){return Y(r)||x("changeType"),Object.keys(r).some(function(t){return!Ye(e,t)})&&x("changeField"),r}function Qe(e){_(e)||x("selectorType")}function Xe(e){_(e)||Y(e)||x("handlerType"),Y(e)&&Object.values(e).some(function(r){return!_(r)})&&x("handlersType")}function Ze(e){e||x("initialIsRequired"),Y(e)||x("initialType"),Ge(e)&&x("initialContent")}function er(e,r){throw new Error(e[r]||e.default)}var rr={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},x=H(er)(rr),G={changes:Je,selector:Qe,handler:Xe,initial:Ze};function tr(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};G.initial(e),G.handler(r);var t={current:e},n=H(ir)(t,r),o=H(or)(t),i=H(G.changes)(e),l=H(nr)(t);function p(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(L){return L};return G.selector(w),w(t.current)}function h(w){Ke(n,o,i,l)(w)}return[p,h]}function nr(e,r){return _(r)?r(e.current):r}function or(e,r){return e.current=ve(ve({},e.current),r),r}function ir(e,r,t){return _(r)?r(e.current):Object.keys(t).forEach(function(n){var o;return(o=r[n])===null||o===void 0?void 0:o.call(r,e.current[n])}),t}var ar={create:tr},be=ar;var cr={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}},ye=cr;function ur(e){return function r(){for(var t=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];return r.apply(t,[].concat(o,p))}}}var we=ur;function lr(e){return{}.toString.call(e).includes("Object")}var Oe=lr;function sr(e){return e||je("configIsRequired"),Oe(e)||je("configType"),e.urls?(fr(),{paths:{vs:e.urls.monacoBase}}):e}function fr(){console.warn(Me.deprecation)}function dr(e,r){throw new Error(e[r]||e.default)}var Me={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},je=we(dr)(Me),pr={config:sr},Se=pr;var gr=function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return function(o){return t.reduceRight(function(i,l){return l(i)},o)}},Pe=gr;function Ee(e,r){return Object.keys(r).forEach(function(t){r[t]instanceof Object&&e[t]&&Object.assign(r[t],Ee(e[t],r[t]))}),ue(ue({},e),r)}var Ie=Ee;var mr={type:"cancelation",msg:"operation is manually canceled"};function hr(e){var r=!1,t=new Promise(function(n,o){e.then(function(i){return r?o(mr):n(i)}),e.catch(o)});return t.cancel=function(){return r=!0},t}var J=hr;var vr=be.create({config:ye,isInitialized:!1,resolve:null,reject:null,monaco:null}),xe=me(vr,2),$=xe[0],Q=xe[1];function br(e){var r=Se.config(e),t=r.monaco,n=ge(r,["monaco"]);Q(function(o){return{config:Ie(o.config,n),monaco:t}})}function yr(){var e=$(function(r){var t=r.monaco,n=r.isInitialized,o=r.resolve;return{monaco:t,isInitialized:n,resolve:o}});if(!e.isInitialized){if(Q({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),J(le);if(window.monaco&&window.monaco.editor)return Ae(window.monaco),e.resolve(window.monaco),J(le);Pe(wr,jr)(Mr)}return J(le)}function wr(e){return document.body.appendChild(e)}function Or(e){var r=document.createElement("script");return e&&(r.src=e),r}function jr(e){var r=$(function(n){var o=n.config,i=n.reject;return{config:o,reject:i}}),t=Or("".concat(r.config.paths.vs,"/loader.js"));return t.onload=function(){return e()},t.onerror=r.reject,t}function Mr(){var e=$(function(t){var n=t.config,o=t.resolve,i=t.reject;return{config:n,resolve:o,reject:i}}),r=window.require;r.config(e.config),r(["vs/editor/editor.main"],function(t){Ae(t),e.resolve(t)},function(t){e.reject(t)})}function Ae(e){$().monaco||Q({monaco:e})}function Sr(){return $(function(e){var r=e.monaco;return r})}var le=new Promise(function(e,r){return Q({resolve:e,reject:r})}),Pr={config:br,init:yr,__getMonacoInstance:Sr},C=Pr;var Te=S(P(),1),m=S(P(),1);var Ce=S(P(),1),Z=S(P(),1),Le=S(P(),1),Re=S(P(),1),ee=S(P(),1),qr=S(P(),1);var ze=S(P(),1),d=S(P(),1);var re=S(P(),1);var Er={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},se=Er,Ir={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},xr=Ir;function Ar({children:e}){return Le.default.createElement("div",{style:xr.container},e)}var Tr=Ar,Cr=Tr;function Lr({width:e,height:r,isEditorReady:t,loading:n,_ref:o,className:i,wrapperProps:l}){return Z.default.createElement("section",T({style:fe(T({},se.wrapper),{width:e,height:r})},l),!t&&Z.default.createElement(Cr,null,n),Z.default.createElement("div",{ref:o,style:T(T({},se.fullWidth),!t&&se.hide),className:i}))}var Dr=Lr,De=(0,Ce.memo)(Dr);function Rr(e){(0,Re.useEffect)(e,[])}var Ve=Rr;function Vr(e,r,t=!0){let n=(0,ee.useRef)(!0);(0,ee.useEffect)(n.current||!t?()=>{n.current=!1}:e,r)}var M=Vr;function k(){}function W(e,r,t,n){return Wr(e,n)||zr(e,r,t,n)}function Wr(e,r){return e.editor.getModel(We(e,r))}function zr(e,r,t,n){return e.editor.createModel(r,t,n?We(e,n):void 0)}function We(e,r){return e.Uri.parse(r)}function Nr({original:e,modified:r,language:t,originalLanguage:n,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:l,keepCurrentOriginalModel:p=!1,keepCurrentModifiedModel:h=!1,theme:w="light",loading:L="Loading...",options:E={},height:te="100%",width:ne="100%",className:oe,wrapperProps:ie={},beforeMount:ae=k,onMount:ce=k}){let[O,z]=(0,m.useState)(!1),[A,v]=(0,m.useState)(!0),b=(0,m.useRef)(null),g=(0,m.useRef)(null),N=(0,m.useRef)(null),y=(0,m.useRef)(ce),u=(0,m.useRef)(ae),D=(0,m.useRef)(!1);Ve(()=>{let a=C.init();return a.then(s=>(g.current=s)&&v(!1)).catch(s=>(s==null?void 0:s.type)!=="cancelation"&&console.error("Monaco initialization: error:",s)),()=>b.current?U():a.cancel()}),M(()=>{if(b.current&&g.current){let a=b.current.getOriginalEditor(),s=W(g.current,e||"",n||t||"text",i||"");s!==a.getModel()&&a.setModel(s)}},[i],O),M(()=>{if(b.current&&g.current){let a=b.current.getModifiedEditor(),s=W(g.current,r||"",o||t||"text",l||"");s!==a.getModel()&&a.setModel(s)}},[l],O),M(()=>{let a=b.current.getModifiedEditor();a.getOption(g.current.editor.EditorOption.readOnly)?a.setValue(r||""):r!==a.getValue()&&(a.executeEdits("",[{range:a.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),a.pushUndoStop())},[r],O),M(()=>{var a,s;(s=(a=b.current)==null?void 0:a.getModel())==null||s.original.setValue(e||"")},[e],O),M(()=>{let{original:a,modified:s}=b.current.getModel();g.current.editor.setModelLanguage(a,n||t||"text"),g.current.editor.setModelLanguage(s,o||t||"text")},[t,n,o],O),M(()=>{var a;(a=g.current)==null||a.editor.setTheme(w)},[w],O),M(()=>{var a;(a=b.current)==null||a.updateOptions(E)},[E],O);let B=(0,m.useCallback)(()=>{var I;if(!g.current)return;u.current(g.current);let a=W(g.current,e||"",n||t||"text",i||""),s=W(g.current,r||"",o||t||"text",l||"");(I=b.current)==null||I.setModel({original:a,modified:s})},[t,r,o,e,n,i,l]),K=(0,m.useCallback)(()=>{var a;!D.current&&N.current&&(b.current=g.current.editor.createDiffEditor(N.current,T({automaticLayout:!0},E)),B(),(a=g.current)==null||a.editor.setTheme(w),z(!0),D.current=!0)},[E,w,B]);(0,m.useEffect)(()=>{O&&y.current(b.current,g.current)},[O]),(0,m.useEffect)(()=>{!A&&!O&&K()},[A,O,K]);function U(){var s,I,R,q;let a=(s=b.current)==null?void 0:s.getModel();p||((I=a==null?void 0:a.original)==null||I.dispose()),h||((R=a==null?void 0:a.modified)==null||R.dispose()),(q=b.current)==null||q.dispose()}return m.default.createElement(De,{width:ne,height:te,isEditorReady:O,loading:L,_ref:N,className:oe,wrapperProps:ie})}var Ur=Nr,bt=(0,Te.memo)(Ur);function Fr(e){let r=(0,re.useRef)();return(0,re.useEffect)(()=>{r.current=e},[e]),r.current}var Hr=Fr,X=new Map;function _r({defaultValue:e,defaultLanguage:r,defaultPath:t,value:n,language:o,path:i,theme:l="light",line:p,loading:h="Loading...",options:w={},overrideServices:L={},saveViewState:E=!0,keepCurrentModel:te=!1,width:ne="100%",height:oe="100%",className:ie,wrapperProps:ae={},beforeMount:ce=k,onMount:O=k,onChange:z,onValidate:A=k}){let[v,b]=(0,d.useState)(!1),[g,N]=(0,d.useState)(!0),y=(0,d.useRef)(null),u=(0,d.useRef)(null),D=(0,d.useRef)(null),B=(0,d.useRef)(O),K=(0,d.useRef)(ce),U=(0,d.useRef)(),a=(0,d.useRef)(n),s=Hr(i),I=(0,d.useRef)(!1),R=(0,d.useRef)(!1);Ve(()=>{let c=C.init();return c.then(f=>(y.current=f)&&N(!1)).catch(f=>(f==null?void 0:f.type)!=="cancelation"&&console.error("Monaco initialization: error:",f)),()=>u.current?Ue():c.cancel()}),M(()=>{var f,j,F,V;let c=W(y.current,e||n||"",r||o||"",i||t||"");c!==((f=u.current)==null?void 0:f.getModel())&&(E&&X.set(s,(j=u.current)==null?void 0:j.saveViewState()),(F=u.current)==null||F.setModel(c),E&&((V=u.current)==null||V.restoreViewState(X.get(i))))},[i],v),M(()=>{var c;(c=u.current)==null||c.updateOptions(w)},[w],v),M(()=>{!u.current||n===void 0||(u.current.getOption(y.current.editor.EditorOption.readOnly)?u.current.setValue(n):n!==u.current.getValue()&&(R.current=!0,u.current.executeEdits("",[{range:u.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),u.current.pushUndoStop(),R.current=!1))},[n],v),M(()=>{var f,j;let c=(f=u.current)==null?void 0:f.getModel();c&&o&&((j=y.current)==null||j.editor.setModelLanguage(c,o))},[o],v),M(()=>{var c;p!==void 0&&((c=u.current)==null||c.revealLine(p))},[p],v),M(()=>{var c;(c=y.current)==null||c.editor.setTheme(l)},[l],v);let q=(0,d.useCallback)(()=>{var c;if(!(!D.current||!y.current)&&!I.current){K.current(y.current);let f=i||t,j=W(y.current,n||e||"",r||o||"",f||"");u.current=(c=y.current)==null?void 0:c.editor.create(D.current,T({model:j,automaticLayout:!0},w),L),E&&u.current.restoreViewState(X.get(f)),y.current.editor.setTheme(l),p!==void 0&&u.current.revealLine(p),b(!0),I.current=!0}},[e,r,t,n,o,i,w,L,E,l,p]);(0,d.useEffect)(()=>{v&&B.current(u.current,y.current)},[v]),(0,d.useEffect)(()=>{!g&&!v&&q()},[g,v,q]),a.current=n,(0,d.useEffect)(()=>{var c,f;v&&z&&((c=U.current)==null||c.dispose(),U.current=(f=u.current)==null?void 0:f.onDidChangeModelContent(j=>{R.current||z(u.current.getValue(),j)}))},[v,z]),(0,d.useEffect)(()=>{if(v){let c=y.current.editor.onDidChangeMarkers(f=>{var F;let j=(F=u.current.getModel())==null?void 0:F.uri;if(j&&f.find(V=>V.path===j.path)){let V=y.current.editor.getModelMarkers({resource:j});A==null||A(V)}});return()=>{c==null||c.dispose()}}return()=>{}},[v,A]);function Ue(){var c,f;(c=U.current)==null||c.dispose(),te?E&&X.set(i,u.current.saveViewState()):(f=u.current.getModel())==null||f.dispose(),u.current.dispose()}return d.default.createElement(De,{width:ne,height:oe,isEditorReady:v,loading:h,_ref:D,className:ie,wrapperProps:ae})}var $r=_r,kr=(0,ze.memo)($r),Ne=kr;var St=Ne;export{St as default};
