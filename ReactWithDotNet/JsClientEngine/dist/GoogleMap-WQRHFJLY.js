import{a as Ge}from"./chunk-DLL45UCJ.js";import{a as We}from"./chunk-22HPGI5J.js";import{a as Be}from"./chunk-2W22VGCX.js";import{f as ve,h as K}from"./chunk-GYULANB4.js";var Me=ve((ht,pe)=>{"use strict";var Fe=Object.prototype.hasOwnProperty,b="~";function B(){}Object.create&&(B.prototype=Object.create(null),new B().__proto__||(b=!1));function Ve(t,n,r){this.fn=t,this.context=n,this.once=r||!1}function ye(t,n,r,i,e){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new Ve(r,i||t,e),o=b?b+n:n;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],s]:t._events[o].push(s):(t._events[o]=s,t._eventsCount++),t}function $(t,n){--t._eventsCount===0?t._events=new B:delete t._events[n]}function C(){this._events=new B,this._eventsCount=0}C.prototype.eventNames=function(){var n=[],r,i;if(this._eventsCount===0)return n;for(i in r=this._events)Fe.call(r,i)&&n.push(b?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(r)):n};C.prototype.listeners=function(n){var r=b?b+n:n,i=this._events[r];if(!i)return[];if(i.fn)return[i.fn];for(var e=0,s=i.length,o=new Array(s);e<s;e++)o[e]=i[e].fn;return o};C.prototype.listenerCount=function(n){var r=b?b+n:n,i=this._events[r];return i?i.fn?1:i.length:0};C.prototype.emit=function(n,r,i,e,s,o){var u=b?b+n:n;if(!this._events[u])return!1;var a=this._events[u],p=arguments.length,h,l;if(a.fn){switch(a.once&&this.removeListener(n,a.fn,void 0,!0),p){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,r),!0;case 3:return a.fn.call(a.context,r,i),!0;case 4:return a.fn.call(a.context,r,i,e),!0;case 5:return a.fn.call(a.context,r,i,e,s),!0;case 6:return a.fn.call(a.context,r,i,e,s,o),!0}for(l=1,h=new Array(p-1);l<p;l++)h[l-1]=arguments[l];a.fn.apply(a.context,h)}else{var g=a.length,m;for(l=0;l<g;l++)switch(a[l].once&&this.removeListener(n,a[l].fn,void 0,!0),p){case 1:a[l].fn.call(a[l].context);break;case 2:a[l].fn.call(a[l].context,r);break;case 3:a[l].fn.call(a[l].context,r,i);break;case 4:a[l].fn.call(a[l].context,r,i,e);break;default:if(!h)for(m=1,h=new Array(p-1);m<p;m++)h[m-1]=arguments[m];a[l].fn.apply(a[l].context,h)}}return!0};C.prototype.on=function(n,r,i){return ye(this,n,r,i,!1)};C.prototype.once=function(n,r,i){return ye(this,n,r,i,!0)};C.prototype.removeListener=function(n,r,i,e){var s=b?b+n:n;if(!this._events[s])return this;if(!r)return $(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!e||o.once)&&(!i||o.context===i)&&$(this,s);else{for(var u=0,a=[],p=o.length;u<p;u++)(o[u].fn!==r||e&&!o[u].once||i&&o[u].context!==i)&&a.push(o[u]);a.length?this._events[s]=a.length===1?a[0]:a:$(this,s)}return this};C.prototype.removeAllListeners=function(n){var r;return n?(r=b?b+n:n,this._events[r]&&$(this,r)):(this._events=new B,this._eventsCount=0),this};C.prototype.off=C.prototype.removeListener;C.prototype.addListener=C.prototype.on;C.prefixed=b;C.EventEmitter=C;typeof pe!="undefined"&&(pe.exports=C)});var be=ve((dt,Ce)=>{"use strict";Ce.exports=j;function j(t,n){this.x=t,this.y=n}j.prototype={clone:function(){return new j(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,n){return this.clone()._rotateAround(t,n)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var n=t.x-this.x,r=t.y-this.y;return n*n+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,n){return Math.atan2(this.x*n-this.y*t,this.x*t+this.y*n)},_matMult:function(t){var n=t[0]*this.x+t[1]*this.y,r=t[2]*this.x+t[3]*this.y;return this.x=n,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var n=Math.cos(t),r=Math.sin(t),i=n*this.x-r*this.y,e=r*this.x+n*this.y;return this.x=i,this.y=e,this},_rotateAround:function(t,n){var r=Math.cos(t),i=Math.sin(t),e=n.x+r*(this.x-n.x)-i*(this.y-n.y),s=n.y+i*(this.x-n.x)+r*(this.y-n.y);return this.x=e,this.y=s,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}};j.convert=function(t){return t instanceof j?t:Array.isArray(t)?new j(t[0],t[1]):t}});var M=K(Be()),c=K(We()),E=K(Ge()),Ze=K(Me());function $e(t,n,r,i){function e(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(h){try{p(i.next(h))}catch(l){o(l)}}function a(h){try{p(i.throw(h))}catch(l){o(l)}}function p(h){h.done?s(h.value):e(h.value).then(u,a)}p((i=i.apply(t,n||[])).next())})}function qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ye=function t(n,r){if(n===r)return!0;if(n&&r&&typeof n=="object"&&typeof r=="object"){if(n.constructor!==r.constructor)return!1;var i,e,s;if(Array.isArray(n)){if(i=n.length,i!=r.length)return!1;for(e=i;e--!==0;)if(!t(n[e],r[e]))return!1;return!0}if(n.constructor===RegExp)return n.source===r.source&&n.flags===r.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===r.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===r.toString();if(s=Object.keys(n),i=s.length,i!==Object.keys(r).length)return!1;for(e=i;e--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[e]))return!1;for(e=i;e--!==0;){var o=s[e];if(!t(n[o],r[o]))return!1}return!0}return n!==n&&r!==r},Xe=qe(Ye),we="__googleMapsScriptId",N;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(N||(N={}));var q=class t{constructor({apiKey:n,authReferrerPolicy:r,channel:i,client:e,id:s=we,language:o,libraries:u=[],mapIds:a,nonce:p,region:h,retries:l=3,url:g="https://maps.googleapis.com/maps/api/js",version:m}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=i,this.client=e,this.id=s||we,this.language=o,this.libraries=u,this.mapIds=a,this.nonce=p,this.region=h,this.retries=l,this.url=g,this.version=m,t.instance){if(!Xe(this.options,t.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(t.instance.options)}`);return t.instance}t.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?N.FAILURE:this.done?N.SUCCESS:this.loading?N.LOADING:N.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let n=this.url;return n+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(n+=`&key=${this.apiKey}`),this.channel&&(n+=`&channel=${this.channel}`),this.client&&(n+=`&client=${this.client}`),this.libraries.length>0&&(n+=`&libraries=${this.libraries.join(",")}`),this.language&&(n+=`&language=${this.language}`),this.region&&(n+=`&region=${this.region}`),this.version&&(n+=`&v=${this.version}`),this.mapIds&&(n+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(n+=`&auth_referrer_policy=${this.authReferrerPolicy}`),n}deleteScript(){let n=document.getElementById(this.id);n&&n.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((n,r)=>{this.loadCallback(i=>{i?r(i.error):n(window.google)})})}importLibrary(n){return this.execute(),google.maps.importLibrary(n)}loadCallback(n){this.callbacks.push(n),this.execute()}setScript(){var n,r;if(document.getElementById(this.id)){this.callback();return}let i={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(i).forEach(s=>!i[s]&&delete i[s]),!((r=(n=window==null?void 0:window.google)===null||n===void 0?void 0:n.maps)===null||r===void 0)&&r.importLibrary||(s=>{let o,u,a,p="The Google Maps JavaScript API",h="google",l="importLibrary",g="__ib__",m=document,_=window;_=_[h]||(_[h]={});let O=_.maps||(_.maps={}),T=new Set,L=new URLSearchParams,U=()=>o||(o=new Promise((f,A)=>$e(this,void 0,void 0,function*(){var R;yield u=m.createElement("script"),u.id=this.id,L.set("libraries",[...T]+"");for(a in s)L.set(a.replace(/[A-Z]/g,d=>"_"+d[0].toLowerCase()),s[a]);L.set("callback",h+".maps."+g),u.src=this.url+"?"+L,O[g]=f,u.onerror=()=>o=A(Error(p+" could not load.")),u.nonce=this.nonce||((R=m.querySelector("script[nonce]"))===null||R===void 0?void 0:R.nonce)||"",m.head.append(u)})));O[l]?console.warn(p+" only loads once. Ignoring:",s):O[l]=(f,...A)=>T.add(f)&&U().then(()=>O[l](f,...A))})(i);let e=this.libraries.map(s=>this.importLibrary(s));e.length||e.push(this.importLibrary("core")),Promise.all(e).then(()=>this.callback(),s=>{let o=new ErrorEvent("error",{error:s});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(n){if(this.errors.push(n),this.errors.length<=this.retries){let r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=n,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(n=>{n(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}};var k=K(be());function y(){return(y=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function le(t,n){var r,i;t.prototype=Object.create(n.prototype),t.prototype.constructor=t,r=t,i=n,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e})(r,i)}function he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Je={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},Qe=function(t){function n(){return t.apply(this,arguments)||this}le(n,t);var r=n.prototype;return r.shouldComponentUpdate=function(){return!1},r.render=function(){return M.default.createElement("div",{ref:this.props.registerChild,style:Je})},n}(M.Component),Le=function(t){function n(i){var e;return(e=t.call(this)||this).gmapInstance=i,e}le(n,t);var r=n.prototype;return r.getChildren=function(){return this.gmapInstance.props.children},r.getMousePosition=function(){return this.gmapInstance.mouse_},r.getUpdateCounter=function(){return this.gmapInstance.updateCounter_},r.dispose=function(){this.gmapInstance=null,this.removeAllListeners()},n}(Ze.default),V=function(t,n){for(var r=y({},(function(s){if(s==null)throw new TypeError("Cannot destructure "+s)}(t),t)),i=0;i<n.length;i++){var e=n[i];e in r&&delete r[e]}return r},et=Object.prototype.hasOwnProperty;function xe(t,n){return t===n?t!==0||n!==0||1/t==1/n:t!=t&&n!=n}function x(t,n){if(xe(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),i=Object.keys(n);if(r.length!==i.length)return!1;for(var e=0;e<r.length;e++)if(!et.call(n,r[e])||!xe(t[r[e]],n[r[e]]))return!1;return!0}var tt={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},nt={width:0,height:0,left:0,top:0,backgroundColor:"transparent",position:"absolute"},ie=function(t){function n(i){var e;return(e=t.call(this,i)||this)._getState=function(){return{children:e.props.dispatcher.getChildren(),updateCounter:e.props.dispatcher.getUpdateCounter()}},e._onChangeHandler=function(){if(e.dimensionsCache_){var s=(e.state.children||[]).length,o=e._getState();e.setState(o,function(){return(o.children||[]).length!==s&&e._onMouseChangeHandler()})}},e._onChildClick=function(){e.props.onChildClick&&e.hoverChildProps_&&e.props.onChildClick(e.hoverKey_,e.hoverChildProps_)},e._onChildMouseDown=function(){e.props.onChildMouseDown&&e.hoverChildProps_&&e.props.onChildMouseDown(e.hoverKey_,e.hoverChildProps_)},e._onChildMouseEnter=function(s,o){e.dimensionsCache_&&(e.props.onChildMouseEnter&&e.props.onChildMouseEnter(s,o),e.hoverChildProps_=o,e.hoverKey_=s,e.setState({hoverKey:s}))},e._onChildMouseLeave=function(){if(e.dimensionsCache_){var s=e.hoverKey_;s!=null&&(e.props.onChildMouseLeave&&e.props.onChildMouseLeave(s,e.hoverChildProps_),e.hoverKey_=null,e.hoverChildProps_=null,e.setState({hoverKey:null}))}},e._onMouseAllow=function(s){s||e._onChildMouseLeave(),e.allowMouse_=s},e._onMouseChangeHandler=function(){e.allowMouse_&&e._onMouseChangeHandlerRaf()},e._onMouseChangeHandlerRaf=function(){if(e.dimensionsCache_){var s=e.props.dispatcher.getMousePosition();if(s){var o=[],u=e.props.getHoverDistance();if(M.default.Children.forEach(e.state.children,function(h,l){if(h&&(h.props.latLng!==void 0||h.props.lat!==void 0||h.props.lng!==void 0)){var g=h.key!=null?h.key:l,m=e.props.distanceToMouse(e.dimensionsCache_[g],s,h.props);m<u&&o.push({key:g,dist:m,props:h.props})}}),o.length){o.sort(function(h,l){return h.dist-l.dist});var a=o[0].key,p=o[0].props;e.hoverKey_!==a&&(e._onChildMouseLeave(),e._onChildMouseEnter(a,p))}else e._onChildMouseLeave()}else e._onChildMouseLeave()}},e._getDimensions=function(s){return e.dimensionsCache_[s]},e.dimensionsCache_={},e.hoverKey_=null,e.hoverChildProps_=null,e.allowMouse_=!0,e.state=y({},e._getState(),{hoverKey:null}),e}le(n,t);var r=n.prototype;return r.componentDidMount=function(){this.props.dispatcher.on("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.on("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.on("kON_CLICK",this._onChildClick),this.props.dispatcher.on("kON_MDOWN",this._onChildMouseDown)},r.shouldComponentUpdate=function(i,e){return this.props.experimental===!0?!x(this.props,i)||!x(V(this.state,["hoverKey"]),V(e,["hoverKey"])):!x(this.props,i)||!x(this.state,e)},r.componentWillUnmount=function(){this.props.dispatcher.removeListener("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.removeListener("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.removeListener("kON_CLICK",this._onChildClick),this.props.dispatcher.removeListener("kON_MDOWN",this._onChildMouseDown),this.dimensionsCache_=null},r.render=function(){var i=this,e=this.props.style||tt;this.dimensionsCache_={};var s=M.default.Children.map(this.state.children,function(o,u){if(o){if(o.props.latLng===void 0&&o.props.lat===void 0&&o.props.lng===void 0)return M.default.cloneElement(o,{$geoService:i.props.geoService,$onMouseAllow:i._onMouseAllow,$prerender:i.props.prerender});var a=o.props.latLng!==void 0?o.props.latLng:{lat:o.props.lat,lng:o.props.lng},p=i.props.insideMapPanes?i.props.geoService.fromLatLngToDivPixel(a):i.props.geoService.fromLatLngToCenterPixel(a),h={left:p.x,top:p.y};if(o.props.seLatLng!==void 0||o.props.seLat!==void 0&&o.props.seLng!==void 0){var l=o.props.seLatLng!==void 0?o.props.seLatLng:{lat:o.props.seLat,lng:o.props.seLng},g=i.props.insideMapPanes?i.props.geoService.fromLatLngToDivPixel(l):i.props.geoService.fromLatLngToCenterPixel(l);h.width=g.x-p.x,h.height=g.y-p.y}var m=i.props.geoService.fromLatLngToContainerPixel(a),_=o.key!=null?o.key:u;return i.dimensionsCache_[_]=y({x:m.x,y:m.y},a),M.default.createElement("div",{key:_,style:y({},nt,h),className:o.props.$markerHolderClassName},M.default.cloneElement(o,{$hover:_===i.state.hoverKey,$getDimensions:i._getDimensions,$dimensionKey:_,$geoService:i.props.geoService,$onMouseAllow:i._onMouseAllow,$prerender:i.props.prerender}))}});return M.default.createElement("div",{style:e},s)},n}(M.Component);ie.propTypes={geoService:c.default.any,style:c.default.any,distanceToMouse:c.default.func,dispatcher:c.default.any,onChildClick:c.default.func,onChildMouseDown:c.default.func,onChildMouseLeave:c.default.func,onChildMouseEnter:c.default.func,getHoverDistance:c.default.func,insideMapPanes:c.default.bool,prerender:c.default.bool},ie.defaultProps={insideMapPanes:!1,prerender:!1};var ot={width:"50%",height:"50%",left:"50%",top:"50%",margin:0,padding:0,position:"absolute"};function rt(t){return M.default.createElement("div",{style:ot},M.default.createElement(ie,y({},t,{prerender:!0})))}var ce,G,fe,it=["key"],st=new Promise(function(t){fe=t}),Oe=function(t,n){if(!t)return st;if(G)return G;t.libraries||(t.libraries=[]);var r=[].concat(t.libraries);if(n&&(r.length!==0&&r.includes("visualization")||r.push("visualization"),console.warn("heatmapLibrary will be deprecated in the future. Please use { libraries: ['visualization'] } in bootstrapURLKeys property instead")),!1)var i;if(typeof window=="undefined")throw new Error("google map cannot be loaded outside browser env");var e=t.key,s=function(o,u){if(o==null)return{};var a,p,h={},l=Object.keys(o);for(p=0;p<l.length;p++)u.indexOf(a=l[p])>=0||(h[a]=o[a]);return h}(t,it);return ce||(ce=new q(y({apiKey:e||""},s,{libraries:r}))),G=ce.load().then(function(){return fe(window.google.maps),window.google.maps}),fe(G),G};function Ue(t,n,r){var i=r-n;return t===r?t:((t-n)%i+i)%i+n}var P=function(){function t(n,r){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r}return t.prototype.wrap=function(){return new t(this.lat,Ue(this.lng,-180,180))},t}();P.convert=function(t){return t instanceof P?t:Array.isArray(t)?new P(t[0],t[1]):"lng"in t&&"lat"in t?new P(t.lat,t.lng):t};var at=function(){function t(e,s,o){this.tileSize=e||512,this._minZoom=s||0,this._maxZoom=o||52,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this.zoom=0,this.center=new P(0,0),this.angle=0}var n,r,i=t.prototype;return i.zoomScale=function(e){return Math.pow(2,e)},i.scaleZoom=function(e){return Math.log(e)/Math.LN2},i.project=function(e,s){return new k.default(this.lngX(e.lng,s),this.latY(e.lat,s))},i.unproject=function(e,s){return new P(this.yLat(e.y,s),this.xLng(e.x,s))},i.lngX=function(e,s){return(180+e)*(s||this.worldSize)/360},i.latY=function(e,s){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))*(s||this.worldSize)/360},i.xLng=function(e,s){return 360*e/(s||this.worldSize)-180},i.yLat=function(e,s){return 360/Math.PI*Math.atan(Math.exp((180-360*e/(s||this.worldSize))*Math.PI/180))-90},i.locationPoint=function(e){var s=this.project(e);return this.centerPoint._sub(this.point._sub(s)._rotate(this.angle))},i.pointLocation=function(e){var s=this.centerPoint._sub(e)._rotate(-this.angle);return this.unproject(this.point.sub(s))},n=t,(r=[{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom=e,this.zoom=Math.max(this.zoom,e)}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom=e,this.zoom=Math.min(this.zoom,e)}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerPoint",get:function(){return new k.default(0,0)}},{key:"size",get:function(){return new k.default(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(e){this.angle=-Ue(e,-180,180)*Math.PI/180}},{key:"zoom",get:function(){return this._zoom},set:function(e){var s=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom=s,this.scale=this.zoomScale(s),this.tileZoom=Math.floor(s),this.zoomFraction=s-this.tileZoom}},{key:"x",get:function(){return this.lngX(this.center.lng)}},{key:"y",get:function(){return this.latY(this.center.lat)}},{key:"point",get:function(){return new k.default(this.x,this.y)}}])&&function(e,s){for(var o=0;o<s.length;o++){var u=s[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,typeof(a=function(p,h){if(typeof p!="object"||p===null)return p;var l=p[Symbol.toPrimitive];if(l!==void 0){var g=l.call(p,"string");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(u.key))=="symbol"?a:String(a),u)}var a}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(),lt=function(){function t(r){this.hasSize_=!1,this.hasView_=!1,this.transform_=new at(r||512)}var n=t.prototype;return n.setView=function(r,i,e){this.transform_.center=P.convert(r),this.transform_.zoom=+i,this.transform_.bearing=+e,this.hasView_=!0},n.setViewSize=function(r,i){this.transform_.width=r,this.transform_.height=i,this.hasSize_=!0},n.setMapCanvasProjection=function(r,i){this.maps_=r,this.mapCanvasProjection_=i},n.canProject=function(){return this.hasSize_&&this.hasView_},n.hasSize=function(){return this.hasSize_},n.fromLatLngToCenterPixel=function(r){return this.transform_.locationPoint(P.convert(r))},n.fromLatLngToDivPixel=function(r){if(this.mapCanvasProjection_){var i=new this.maps_.LatLng(r.lat,r.lng);return this.mapCanvasProjection_.fromLatLngToDivPixel(i)}return this.fromLatLngToCenterPixel(r)},n.fromLatLngToContainerPixel=function(r){if(this.mapCanvasProjection_){var i=new this.maps_.LatLng(r.lat,r.lng);return this.mapCanvasProjection_.fromLatLngToContainerPixel(i)}var e=this.fromLatLngToCenterPixel(r);return e.x-=this.transform_.worldSize*Math.round(e.x/this.transform_.worldSize),e.x+=this.transform_.width/2,e.y+=this.transform_.height/2,e},n.fromContainerPixelToLatLng=function(r){if(this.mapCanvasProjection_){var i=this.mapCanvasProjection_.fromContainerPixelToLatLng(r);return{lat:i.lat(),lng:i.lng()}}var e=y({},r);e.x-=this.transform_.width/2,e.y-=this.transform_.height/2;var s=this.transform_.pointLocation(k.default.convert(e));return s.lng-=360*Math.round(s.lng/360),s},n.getWidth=function(){return this.transform_.width},n.getHeight=function(){return this.transform_.height},n.getZoom=function(){return this.transform_.zoom},n.getCenter=function(){return this.transform_.pointLocation({x:0,y:0})},n.getBounds=function(r,i){var e=r&&r[0]||0,s=r&&r[1]||0,o=r&&r[2]||0,u=r&&r[3]||0;if(this.getWidth()-s-u>0&&this.getHeight()-e-o>0){var a=this.transform_.pointLocation(k.default.convert({x:u-this.getWidth()/2,y:e-this.getHeight()/2})),p=this.transform_.pointLocation(k.default.convert({x:this.getWidth()/2-s,y:this.getHeight()/2-o})),h=[a.lat,a.lng,p.lat,p.lng,p.lat,a.lng,a.lat,p.lng];return i&&(h=h.map(function(l){return Math.round(l*i)/i})),h}return[0,0,0,0]},t}();function Se(t){if(window.requestAnimationFrame)return window.requestAnimationFrame(t);var n=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return n?n(t):window.setTimeout(t,1e3/60)}var ut=Math.log2?Math.log2:function(t){return Math.log(t)/Math.LN2};function Ee(t,n){return Object.keys(t).reduce(function(r,i){return n(t[i])&&(r[i]=t[i]),r},{})}var I=function(t){if(t!==null&&typeof t=="object"){if(Object.keys(t).length===0)return!0}else if(t==null||t==="")return!0;return!1},pt=Object.prototype.toString;function Y(t){return typeof t=="number"||function(n){return!!n&&typeof n=="object"}(t)&&pt.call(t)==="[object Number]"}var X=null;function De(){if(X)return X;if(typeof navigator!="undefined"){var t=navigator.userAgent.indexOf("MSIE")>-1,n=navigator.userAgent.indexOf("Firefox")>-1,r=navigator.userAgent.toLowerCase().indexOf("op")>-1,i=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Safari")>-1;return i&&e&&(e=!1),i&&r&&(i=!1),X={isExplorer:t,isFirefox:n,isOpera:r,isChrome:i,isSafari:e}}return X={isChrome:!0,isExplorer:!1,isFirefox:!1,isOpera:!1,isSafari:!1}}var ke=function(t){return Function.prototype.toString.call(t)};function F(t){if(!t||typeof t!="object")return!1;var n=typeof t.constructor=="function"?Object.getPrototypeOf(t):Object.prototype;if(n===null)return!0;var r=n.constructor;return typeof r=="function"&&r instanceof r&&ke(r)===ke(Object)}function W(t,n,r,i){t.addEventListener(n,r,function(){var e=!1;try{var s=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",s,s),window.removeEventListener("test",s,s)}catch(o){e=!1}return e}()?{capture:i,passive:!0}:i)}var S,me=!(typeof window=="undefined"||!window.document||!window.document.createElement);S=me?window:typeof self!="undefined"?self:void 0;var Pe,ge=typeof document!="undefined"&&document.attachEvent,Te=!1;if(me&&!ge){if(ze=function(){var t=S.requestAnimationFrame||S.mozRequestAnimationFrame||S.webkitRequestAnimationFrame||function(n){return S.setTimeout(n,20)};return function(n){return t(n)}}(),Ie=(Pe=S.cancelAnimationFrame||S.mozCancelAnimationFrame||S.webkitCancelAnimationFrame||S.clearTimeout,function(t){return Pe(t)}),se=function(t){var n=t.__resizeTriggers__,r=n.firstElementChild,i=n.lastElementChild,e=r.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,e.style.width=r.offsetWidth+1+"px",e.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},_e=function(t){var n=this;se(this),this.__resizeRAF__&&Ie(this.__resizeRAF__),this.__resizeRAF__=ze(function(){(function(r){return r.offsetWidth!=r.__resizeLast__.width||r.offsetHeight!=r.__resizeLast__.height})(n)&&(n.__resizeLast__.width=n.offsetWidth,n.__resizeLast__.height=n.offsetHeight,n.__resizeListeners__.forEach(function(r){r.call(n,t)}))})},J=!1,Q="",ae="animationstart",ee="Webkit Moz O ms".split(" "),Ae="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),me&&(de=document.createElement("fakeelement"),de.style.animationName!==void 0&&(J=!0),J===!1)){for(Z=0;Z<ee.length;Z++)if(de.style[ee[Z]+"AnimationName"]!==void 0){Q="-"+ee[Z].toLowerCase()+"-",ae=Ae[Z],J=!0;break}}ne="resizeanim",Re="@"+Q+"keyframes "+ne+" { from { opacity: 0; } to { opacity: 0; } } ",He=Q+"animation: 1ms "+ne+"; "}var ze,Ie,se,_e,J,Q,ae,ee,Ae,de,Z,ne,Re,He,oe=E.default.createPortal!==void 0,Ne=oe?E.default.createPortal:E.default.unstable_renderSubtreeIntoContainer,te=function(t){return F(t)?t:{lat:t[0],lng:t[1]}},je=function(t,n){return n<t?t:n},re=function(t){function n(i){var e;if((e=t.call(this,i)||this)._getMinZoom=function(){if(e.geoService_.getWidth()>0||e.geoService_.getHeight()>0){var o=Math.ceil(e.geoService_.getWidth()/256)+2,u=Math.ceil(e.geoService_.getHeight()/256)+2,a=Math.max(o,u);return Math.ceil(ut(a))}return 3},e._computeMinZoom=function(o){return I(o)?e._getMinZoom():o},e._mapDomResizeCallback=function(){if(e.resetSizeOnIdle_=!0,e.maps_){var o=e.props.center||e.props.defaultCenter,u=e.map_.getCenter();e.maps_.event.trigger(e.map_,"resize"),e.map_.setCenter(e.props.resetBoundsOnResize?o:u)}},e._setLayers=function(o){o.forEach(function(u){e.layers_[u]=new e.maps_[u],e.layers_[u].setMap(e.map_)})},e._renderPortal=function(){return M.default.createElement(ie,{experimental:e.props.experimental,onChildClick:e._onChildClick,onChildMouseDown:e._onChildMouseDown,onChildMouseEnter:e._onChildMouseEnter,onChildMouseLeave:e._onChildMouseLeave,geoService:e.geoService_,insideMapPanes:!0,distanceToMouse:e.props.distanceToMouse,getHoverDistance:e._getHoverDistance,dispatcher:e.markersDispatcher_})},e._initMap=function(){if(!e.initialized_){e.initialized_=!0;var o=te(e.props.center||e.props.defaultCenter);e.geoService_.setView(o,e.props.zoom||e.props.defaultZoom,0),e._onBoundsChanged();var u=y({},e.props.apiKey&&{key:e.props.apiKey},e.props.bootstrapURLKeys);e.props.googleMapLoader(u,e.props.heatmapLibrary).then(function(a){if(e.mounted_){var p,h,l=e.geoService_.getCenter(),g={zoom:e.props.zoom||e.props.defaultZoom,center:new a.LatLng(l.lat,l.lng)};e.props.heatmap.positions&&(Object.assign(he(e),{heatmap:(p=a,h=e.props.heatmap,new p.visualization.HeatmapLayer({data:h.positions.reduce(function(v,z){var w=z.weight,D=w===void 0?1:w;return v.push({location:new p.LatLng(z.lat,z.lng),weight:D}),v},[])}))}),function(v,z){var w=z.options,D=w===void 0?{}:w;Object.keys(D).map(function(H){return v.set(H,D[H])})}(e.heatmap,e.props.heatmap));var m=Ee(a,F),_=typeof e.props.options=="function"?e.props.options(m):e.props.options,O=!I(e.props.draggable)&&{draggable:e.props.draggable},T=e._computeMinZoom(_.minZoom);e.minZoom_=T;var L=y({},{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3},{minZoom:T},_,g);e.defaultDraggableOption_=I(L.draggable)?e.defaultDraggableOption_:L.draggable;var U=y({},L,O);U.minZoom=je(U.minZoom,T);var f=new a.Map(E.default.findDOMNode(e.googleMapDom_),U);e.map_=f,e.maps_=a,e._setLayers(e.props.layerTypes);var A=a.version.match(/^3\.(\d+)\./),R=A&&Number(A[1]),d=he(e),ue=Object.assign(new a.OverlayView,{onAdd:function(){var v=typeof screen!="undefined"?screen.width+"px":"2000px",z=typeof screen!="undefined"?screen.height+"px":"2000px",w=document.createElement("div");if(w.style.backgroundColor="transparent",w.style.position="absolute",w.style.left="0px",w.style.top="0px",w.style.width=v,w.style.height=z,d.props.overlayViewDivStyle){var D=d.props.overlayViewDivStyle;typeof D=="object"&&Object.keys(D).forEach(function(H){w.style[H]=D[H]})}this.getPanes().overlayMouseTarget.appendChild(w),d.geoService_.setMapCanvasProjection(a,ue.getProjection()),oe?d.setState({overlay:w}):Ne(d,d._renderPortal(),w,function(){return d.setState({overlay:w})})},onRemove:function(){var v=d.state.overlay;v&&!oe&&E.default.unmountComponentAtNode(v),d.setState({overlay:null})},draw:function(){if(d.updateCounter_++,d._onBoundsChanged(f,a,!d.props.debounced),d.googleApiLoadedCalled_||(d._onGoogleApiLoaded({map:f,maps:a,ref:d.googleMapDom_}),d.googleApiLoadedCalled_=!0),d.mouse_){var v=d.geoService_.fromContainerPixelToLatLng(d.mouse_);d.mouse_.lat=v.lat,d.mouse_.lng=v.lng}d._onChildMouseMove(),d.markersDispatcher_&&(d.markersDispatcher_.emit("kON_CHANGE"),d.fireMouseEventOnIdle_&&d.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"))}});e.overlay_=ue,ue.setMap(f),e.props.heatmap.positions&&e.heatmap.setMap(f),e.props.onTilesLoaded&&a.event.addListener(f,"tilesloaded",function(){d._onTilesLoaded()}),a.event.addListener(f,"zoom_changed",function(){d.geoService_.getZoom()!==f.getZoom()&&(d.zoomAnimationInProgress_||(d.zoomAnimationInProgress_=!0,d._onZoomAnimationStart(f.zoom)),R<32)&&(new Date().getTime()-e.zoomControlClickTime_<300?Se(function(){return Se(function(){d.updateCounter_++,d._onBoundsChanged(f,a)})}):(d.updateCounter_++,d._onBoundsChanged(f,a)))}),a.event.addListener(f,"idle",function(){if(e.resetSizeOnIdle_){e._setViewSize();var v=e._computeMinZoom(_.minZoom);v!==e.minZoom_&&(e.minZoom_=v,f.setOptions({minZoom:v})),e.resetSizeOnIdle_=!1}d.zoomAnimationInProgress_&&(d.zoomAnimationInProgress_=!1,d._onZoomAnimationEnd(f.zoom)),d.updateCounter_++,d._onBoundsChanged(f,a),d.dragTime_=0,d.markersDispatcher_&&d.markersDispatcher_.emit("kON_CHANGE")}),a.event.addListener(f,"mouseover",function(){d.mouseInMap_=!0}),a.event.addListener(f,"click",function(){d.mouseInMap_=!0}),a.event.addListener(f,"mouseout",function(){d.mouseInMap_=!1,d.mouse_=null,d.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")}),a.event.addListener(f,"drag",function(){d.dragTime_=new Date().getTime(),d._onDrag(f)}),a.event.addListener(f,"dragend",function(){var v=a.event.addListener(f,"idle",function(){a.event.removeListener(v),d._onDragEnd(f)})}),a.event.addListener(f,"maptypeid_changed",function(){d._onMapTypeIdChange(f.getMapTypeId())})}}).catch(function(a){throw e._onGoogleApiLoaded({map:null,maps:null,ref:e.googleMapDom_}),console.error(a),a})}},e._onGoogleApiLoaded=function(){var o;e.props.onGoogleApiLoaded&&(o=e.props).onGoogleApiLoaded.apply(o,arguments)},e._getHoverDistance=function(){return e.props.hoverDistance},e._onDrag=function(){var o;return e.props.onDrag&&(o=e.props).onDrag.apply(o,arguments)},e._onDragEnd=function(){var o;return e.props.onDragEnd&&(o=e.props).onDragEnd.apply(o,arguments)},e._onMapTypeIdChange=function(){var o;return e.props.onMapTypeIdChange&&(o=e.props).onMapTypeIdChange.apply(o,arguments)},e._onZoomAnimationStart=function(){var o;return e.props.onZoomAnimationStart&&(o=e.props).onZoomAnimationStart.apply(o,arguments)},e._onZoomAnimationEnd=function(){var o;return e.props.onZoomAnimationEnd&&(o=e.props).onZoomAnimationEnd.apply(o,arguments)},e._onTilesLoaded=function(){return e.props.onTilesLoaded&&e.props.onTilesLoaded()},e._onChildClick=function(){var o;if(e.props.onChildClick)return(o=e.props).onChildClick.apply(o,arguments)},e._onChildMouseDown=function(o,u){e.childMouseDownArgs_=[o,u],e.props.onChildMouseDown&&e.props.onChildMouseDown(o,u,y({},e.mouse_))},e._onChildMouseUp=function(){var o;e.childMouseDownArgs_&&(e.props.onChildMouseUp&&(o=e.props).onChildMouseUp.apply(o,e.childMouseDownArgs_.concat([y({},e.mouse_)])),e.childMouseDownArgs_=null,e.childMouseUpTime_=new Date().getTime())},e._onChildMouseMove=function(){var o;e.childMouseDownArgs_&&e.props.onChildMouseMove&&(o=e.props).onChildMouseMove.apply(o,e.childMouseDownArgs_.concat([y({},e.mouse_)]))},e._onChildMouseEnter=function(){var o;if(e.props.onChildMouseEnter)return(o=e.props).onChildMouseEnter.apply(o,arguments)},e._onChildMouseLeave=function(){var o;if(e.props.onChildMouseLeave)return(o=e.props).onChildMouseLeave.apply(o,arguments)},e._setViewSize=function(){if(e.mounted_){if(document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)e.geoService_.setViewSize(window.innerWidth,window.innerHeight);else{var o=E.default.findDOMNode(e.googleMapDom_);e.geoService_.setViewSize(o.clientWidth,o.clientHeight)}e._onBoundsChanged()}},e._onWindowResize=function(){e.resetSizeOnIdle_=!0},e._onMapMouseMove=function(o){if(e.mouseInMap_){var u=new Date().getTime();u-e.mouseMoveTime_>50&&(e.boundingRect_=o.currentTarget.getBoundingClientRect()),e.mouseMoveTime_=u;var a=o.clientX-e.boundingRect_.left,p=o.clientY-e.boundingRect_.top;e.mouse_||(e.mouse_={x:0,y:0,lat:0,lng:0}),e.mouse_.x=a,e.mouse_.y=p;var h=e.geoService_.fromContainerPixelToLatLng(e.mouse_);e.mouse_.lat=h.lat,e.mouse_.lng=h.lng,e._onChildMouseMove(),u-e.dragTime_<100?e.fireMouseEventOnIdle_=!0:(e.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"),e.fireMouseEventOnIdle_=!1)}},e._onClick=function(){var o;return e.props.onClick&&!e.childMouseDownArgs_&&new Date().getTime()-e.childMouseUpTime_>300&&e.dragTime_===0&&(o=e.props).onClick.apply(o,arguments)},e._onMapClick=function(o){e.markersDispatcher_&&(e._onMapMouseMove(o),new Date().getTime()-e.dragTime_>100&&(e.mouse_&&e._onClick(y({},e.mouse_,{event:o})),e.markersDispatcher_.emit("kON_CLICK",o)))},e._onMapMouseDownNative=function(o){e.mouseInMap_&&e._onMapMouseDown(o)},e._onMapMouseDown=function(o){e.markersDispatcher_&&new Date().getTime()-e.dragTime_>100&&(e._onMapMouseMove(o),e.markersDispatcher_.emit("kON_MDOWN",o))},e._onMapMouseDownCapture=function(){De().isChrome&&(e.zoomControlClickTime_=new Date().getTime())},e._onKeyDownCapture=function(){De().isChrome&&(e.zoomControlClickTime_=new Date().getTime())},e._isCenterDefined=function(o){return o&&(F(o)&&Y(o.lat)&&Y(o.lng)||o.length===2&&Y(o[0])&&Y(o[1]))},e._onBoundsChanged=function(o,u,a){if(o){var p=o.getCenter();e.geoService_.setView([p.lat(),p.lng()],o.getZoom(),0)}if((e.props.onChange||e.props.onBoundsChange)&&e.geoService_.canProject()){var h=e.geoService_.getZoom(),l=e.geoService_.getBounds(),g=e.geoService_.getCenter();if(!function(_,O,T){if(_&&O){for(var L=0;L!==_.length;++L)if(Math.abs(_[L]-O[L])>1e-5)return!1;return!0}return!1}(l,e.prevBounds_)&&a!==!1){var m=e.geoService_.getBounds(e.props.margin);e.props.onBoundsChange&&e.props.onBoundsChange(e.centerIsObject_?y({},g):[g.lat,g.lng],h,l,m),e.props.onChange&&e.props.onChange({center:y({},g),zoom:h,bounds:{nw:{lat:l[0],lng:l[1]},se:{lat:l[2],lng:l[3]},sw:{lat:l[4],lng:l[5]},ne:{lat:l[6],lng:l[7]}},marginBounds:{nw:{lat:m[0],lng:m[1]},se:{lat:m[2],lng:m[3]},sw:{lat:m[4],lng:m[5]},ne:{lat:m[6],lng:m[7]}},size:e.geoService_.hasSize()?{width:e.geoService_.getWidth(),height:e.geoService_.getHeight()}:{width:0,height:0}}),e.prevBounds_=l}}},e._registerChild=function(o){e.googleMapDom_=o},e.mounted_=!1,e.initialized_=!1,e.googleApiLoadedCalled_=!1,e.map_=null,e.maps_=null,e.prevBounds_=null,e.heatmap=null,e.layers_={},e.mouse_=null,e.mouseMoveTime_=0,e.boundingRect_=null,e.mouseInMap_=!0,e.dragTime_=0,e.fireMouseEventOnIdle_=!1,e.updateCounter_=0,e.markersDispatcher_=new Le(he(e)),e.geoService_=new lt(256),e.centerIsObject_=F(e.props.center),e.minZoom_=3,e.defaultDraggableOption_=!0,e.zoomControlClickTime_=0,e.childMouseDownArgs_=null,e.childMouseUpTime_=0,e.googleMapDom_=null,e._isCenterDefined(e.props.center||e.props.defaultCenter)){var s=te(e.props.center||e.props.defaultCenter);e.geoService_.setView(s,e.props.zoom||e.props.defaultZoom,0)}return e.zoomAnimationInProgress_=!1,e.state={overlay:null},e}le(n,t);var r=n.prototype;return r.componentDidMount=function(){var i=this;this.mounted_=!0,this.markersDispatcher_=new Le(this),W(window,"resize",this._onWindowResize,!1),W(window,"keydown",this._onKeyDownCapture,!0);var e=E.default.findDOMNode(this.googleMapDom_);e&&W(e,"mousedown",this._onMapMouseDownNative,!0),W(window,"mouseup",this._onChildMouseUp,!1);var s=y({},this.props.apiKey&&{key:this.props.apiKey},this.props.bootstrapURLKeys);this.props.googleMapLoader(s,this.props.heatmapLibrary),setTimeout(function(){i._setViewSize(),i._isCenterDefined(i.props.center||i.props.defaultCenter)&&i._initMap()},0,this),this.props.resetBoundsOnResize&&function(o,u){if(o.parentNode===void 0){var a=document.createElement("div");o.parentNode=a}o=o.parentNode,ge?o.attachEvent("onresize",u):(o.__resizeTriggers__||(getComputedStyle(o).position=="static"&&(o.style.position="relative"),function(){if(!Te){var p=(Re||"")+".resize-triggers { "+(He||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',h=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",l.styleSheet?l.styleSheet.cssText=p:l.appendChild(document.createTextNode(p)),h.appendChild(l),Te=!0}}(),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=document.createElement("div")).className="resize-triggers",o.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',o.appendChild(o.__resizeTriggers__),se(o),W(o,"scroll",_e,!0),ae&&o.__resizeTriggers__.addEventListener(ae,function(p){p.animationName==ne&&se(o)})),o.__resizeListeners__.push(u))}(e,this._mapDomResizeCallback)},r.shouldComponentUpdate=function(i,e){return!x(V(this.props,["draggable"]),V(i,["draggable"]))||!x(this.state,e)},r.componentDidUpdate=function(i){var e=this;if(!this._isCenterDefined(i.center)&&this._isCenterDefined(this.props.center)&&setTimeout(function(){return e._initMap()},0),this.map_){var s=this.geoService_.getCenter();if(this._isCenterDefined(this.props.center)){var o=te(this.props.center),u=this._isCenterDefined(i.center)?te(i.center):null;(!u||Math.abs(o.lat-u.lat)+Math.abs(o.lng-u.lng)>1e-5)&&Math.abs(o.lat-s.lat)+Math.abs(o.lng-s.lng)>1e-5&&this.map_.panTo({lat:o.lat,lng:o.lng})}if(I(this.props.zoom)||Math.abs(this.props.zoom-i.zoom)>0&&this.map_.setZoom(this.props.zoom),!I(i.draggable)&&I(this.props.draggable)?this.map_.setOptions({draggable:this.defaultDraggableOption_}):x(i.draggable,this.props.draggable)||this.map_.setOptions({draggable:this.props.draggable}),!I(this.props.options)&&!x(i.options,this.props.options)){var a=Ee(this.maps_,F),p=typeof this.props.options=="function"?this.props.options(a):this.props.options;if("minZoom"in(p=V(p,["zoom","center","draggable"]))){var h=this._computeMinZoom(p.minZoom);p.minZoom=je(p.minZoom,h)}this.map_.setOptions(p)}x(this.props.layerTypes,i.layerTypes)||(Object.keys(this.layers_).forEach(function(l){e.layers_[l].setMap(null),delete e.layers_[l]}),this._setLayers(this.props.layerTypes)),this.heatmap&&!x(this.props.heatmap.positions,i.heatmap.positions)&&this.heatmap.setData(this.props.heatmap.positions.map(function(l){return{location:new e.maps_.LatLng(l.lat,l.lng),weight:l.weight}})),this.heatmap&&!x(this.props.heatmap.options,i.heatmap.options)&&Object.keys(this.props.heatmap.options).forEach(function(l){e.heatmap.set(l,e.props.heatmap.options[l])})}this.markersDispatcher_.emit("kON_CHANGE"),x(this.props.hoverDistance,i.hoverDistance)||this.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")},r.componentWillUnmount=function(){this.mounted_=!1;var i,e,s=E.default.findDOMNode(this.googleMapDom_);s&&s.removeEventListener("mousedown",this._onMapMouseDownNative,!0),window.removeEventListener("resize",this._onWindowResize),window.removeEventListener("keydown",this._onKeyDownCapture),window.removeEventListener("mouseup",this._onChildMouseUp,!1),this.props.resetBoundsOnResize&&(e=this._mapDomResizeCallback,i=(i=s).parentNode,ge?i.detachEvent("onresize",e):(i.__resizeListeners__.splice(i.__resizeListeners__.indexOf(e),1),i.__resizeListeners__.length||(i.removeEventListener("scroll",_e),i.__resizeTriggers__=!i.removeChild(i.__resizeTriggers__)))),this.overlay_&&this.overlay_.setMap(null),this.maps_&&this.map_&&this.props.shouldUnregisterMapOnUnmount&&(this.map_.setOptions({scrollwheel:!1}),this.maps_.event.clearInstanceListeners(this.map_)),this.props.shouldUnregisterMapOnUnmount&&(this.map_=null,this.maps_=null),this.markersDispatcher_.dispose(),this.resetSizeOnIdle_=!1,this.props.shouldUnregisterMapOnUnmount&&(delete this.map_,delete this.markersDispatcher_)},r.render=function(){var i=this.state.overlay,e=i?null:M.default.createElement(rt,{experimental:this.props.experimental,onChildClick:this._onChildClick,onChildMouseDown:this._onChildMouseDown,onChildMouseEnter:this._onChildMouseEnter,onChildMouseLeave:this._onChildMouseLeave,geoService:this.geoService_,insideMapPanes:!1,distanceToMouse:this.props.distanceToMouse,getHoverDistance:this._getHoverDistance,dispatcher:this.markersDispatcher_});return M.default.createElement("div",{style:this.props.style,onMouseMove:this._onMapMouseMove,onMouseDownCapture:this._onMapMouseDownCapture,onClick:this._onMapClick},M.default.createElement(Qe,{registerChild:this._registerChild}),oe&&i&&Ne(this._renderPortal(),i),e)},n}(M.Component);re.propTypes={apiKey:c.default.string,bootstrapURLKeys:c.default.any,defaultCenter:c.default.oneOfType([c.default.array,c.default.shape({lat:c.default.number,lng:c.default.number})]),center:c.default.oneOfType([c.default.array,c.default.shape({lat:c.default.number,lng:c.default.number})]),defaultZoom:c.default.number,zoom:c.default.number,onBoundsChange:c.default.func,onChange:c.default.func,onClick:c.default.func,onChildClick:c.default.func,onChildMouseDown:c.default.func,onChildMouseUp:c.default.func,onChildMouseMove:c.default.func,onChildMouseEnter:c.default.func,onChildMouseLeave:c.default.func,onZoomAnimationStart:c.default.func,onZoomAnimationEnd:c.default.func,onDrag:c.default.func,onDragEnd:c.default.func,onMapTypeIdChange:c.default.func,onTilesLoaded:c.default.func,options:c.default.any,distanceToMouse:c.default.func,hoverDistance:c.default.number,debounced:c.default.bool,margin:c.default.array,googleMapLoader:c.default.any,onGoogleApiLoaded:c.default.func,yesIWantToUseGoogleMapApiInternals:c.default.bool,draggable:c.default.bool,style:c.default.any,resetBoundsOnResize:c.default.bool,layerTypes:c.default.arrayOf(c.default.string),shouldUnregisterMapOnUnmount:c.default.bool},re.defaultProps={distanceToMouse:function(t,n){return Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))},hoverDistance:30,debounced:!0,options:function(){return{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3}},googleMapLoader:Oe,yesIWantToUseGoogleMapApiInternals:!1,style:{width:"100%",height:"100%",margin:0,padding:0,position:"relative"},layerTypes:[],heatmap:{},heatmapLibrary:!1,shouldUnregisterMapOnUnmount:!0},re.googleMapLoader=Oe;var Ke=re;var _t=Ke;export{_t as default};
