import{b as I,c as N}from"./chunk-2HCUMXRX.js";import{a as T}from"./chunk-2W22VGCX.js";import{a as d,f as C}from"./chunk-GYULANB4.js";var W=C((Y,v)=>{var M=Object.create,l=Object.defineProperty,S=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,H=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty,j=(t,e,r)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,U=(t,e)=>{for(var r in e)l(t,r,{get:e[r],enumerable:!0})},_=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of A(e))!R.call(t,a)&&a!==r&&l(t,a,{get:()=>e[a],enumerable:!(o=S(e,a))||o.enumerable});return t},x=(t,e,r)=>(r=t!=null?M(H(t)):{},_(e||!t||!t.__esModule?l(r,"default",{value:t,enumerable:!0}):r,t)),F=t=>_(l({},"__esModule",{value:!0}),t),s=(t,e,r)=>(j(t,typeof e!="symbol"?e+"":e,r),r),P={};U(P,{default:()=>n});v.exports=F(P);var y=x(T()),h=I(),u=N(),K="https://player.twitch.tv/js/embed/v1.js",V="Twitch",q="twitch-player-",n=class extends y.Component{constructor(){super(...arguments),s(this,"callPlayer",h.callPlayer),s(this,"playerID",this.props.config.playerId||`${q}${(0,h.randomString)()}`),s(this,"mute",()=>{this.callPlayer("setMuted",!0)}),s(this,"unmute",()=>{this.callPlayer("setMuted",!1)})}componentDidMount(){this.props.onMount&&this.props.onMount(this)}load(e,r){let{playsinline:o,onError:a,config:E,controls:m}=this.props,i=u.MATCH_URL_TWITCH_CHANNEL.test(e),p=i?e.match(u.MATCH_URL_TWITCH_CHANNEL)[1]:e.match(u.MATCH_URL_TWITCH_VIDEO)[1];if(r){i?this.player.setChannel(p):this.player.setVideo("v"+p);return}(0,h.getSDK)(K,V).then(c=>{this.player=new c.Player(this.playerID,d({video:i?"":p,channel:i?p:"",height:"100%",width:"100%",playsinline:o,autoplay:this.props.playing,muted:this.props.muted,controls:i?!0:m,time:(0,h.parseStartTime)(e)},E.options));let{READY:L,PLAYING:g,PAUSE:f,ENDED:O,ONLINE:D,OFFLINE:b,SEEK:w}=c.Player;this.player.addEventListener(L,this.props.onReady),this.player.addEventListener(g,this.props.onPlay),this.player.addEventListener(f,this.props.onPause),this.player.addEventListener(O,this.props.onEnded),this.player.addEventListener(w,this.props.onSeek),this.player.addEventListener(D,this.props.onLoaded),this.player.addEventListener(b,this.props.onLoaded)},a)}play(){this.callPlayer("play")}pause(){this.callPlayer("pause")}stop(){this.callPlayer("pause")}seekTo(e,r=!0){this.callPlayer("seek",e),r||this.pause()}setVolume(e){this.callPlayer("setVolume",e)}getDuration(){return this.callPlayer("getDuration")}getCurrentTime(){return this.callPlayer("getCurrentTime")}getSecondsLoaded(){return null}render(){let e={width:"100%",height:"100%"};return y.default.createElement("div",{style:e,id:this.playerID})}};s(n,"displayName","Twitch");s(n,"canPlay",u.canPlay.twitch);s(n,"loopOnEnded",!0)});export default W();
